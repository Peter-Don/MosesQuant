# MosesQuant 开发工作流程

## 📋 核心开发流程

### 1. 任务执行循环

每次开发会话都应该遵循以下步骤：

1. **检查当前状态** 📊
   - 查看 `czsc_core\架构\` 目录中的架构文档
   - 检查 `czsc_core\任务清单.md` 中的任务状态
   - 运行 `cargo check` 确保代码可编译

2. **更新任务状态** 📝
   - 将已完成的任务标记为 ✅ 已完成
   - 标记当前正在进行的任务为 🔄 进行中
   - 明确下一步计划

3. **开发实现** 🔧
   - 按照架构文档的指导进行开发
   - 优先完成基础设施和核心模块
   - 遵循 Rust 最佳实践和项目约定

4. **测试验证** 🧪
   - 运行 `cargo check` 检查编译
   - 运行 `cargo test` 执行单元测试
   - 运行 `cargo clippy` 进行代码质量检查

5. **提交代码** 📤
   - 确保所有测试通过
   - 提交代码到 GitHub: `https://github.com/Peter-Don/MosesQuant.git`
   - 编写清晰的提交消息

### 2. 重要提醒事项

#### 📂 关键文件位置
- **架构文档**: `czsc_core\架构\` 目录
- **任务清单**: `czsc_core\任务清单.md`
- **项目指导**: `czsc_core\CLAUDE.md`

#### 🏗️ 开发原则
- **对照架构**: 所有开发都要对照架构文档进行
- **更新状态**: 每次开发后都要更新任务清单状态
- **持续测试**: 每个阶段完成后都要进行测试
- **及时提交**: 测试通过后立即提交代码

#### ⚠️ 注意事项
- 不要跳过任何步骤
- 确保每次提交都是可工作的版本
- 保持任务清单的准确性和时效性
- 遵循项目的命名约定和代码规范

### 3. 开发检查清单

每次开发会话开始前：
- [ ] 检查 `czsc_core\架构\` 目录文档
- [ ] 查看 `czsc_core\任务清单.md` 状态
- [ ] 确认当前分支和 Git 状态

每次开发会话结束前：
- [ ] 运行 `cargo check` 确保编译通过
- [ ] 运行 `cargo test` 确保测试通过
- [ ] 更新 `czsc_core\任务清单.md` 状态
- [ ] 提交代码到 GitHub

### 4. GitHub 提交规范

```bash
# 标准提交流程
git add .
git commit -m "feat: 完成XXX功能实现

- 实现了XXX模块的核心功能
- 添加了单元测试
- 更新了文档和任务清单

相关任务: #issue_number
"
git push origin refactor/poi-cleanup
```

### 5. 紧急情况处理

如果遇到以下情况：
- **编译错误**: 优先修复编译错误，确保代码库可构建
- **测试失败**: 分析失败原因，修复后再继续
- **架构冲突**: 查阅架构文档，确保实现符合设计
- **任务阻塞**: 记录在任务清单中，寻找替代路径

---

## 📊 当前开发状态

**当前分支**: `refactor/poi-cleanup`
**主要分支**: `master`
**远程仓库**: `https://github.com/Peter-Don/MosesQuant.git`

**最近更新**: 2024-07-18
- 修复了 `src/bin/moses_quant.rs` 的 async 问题
- 更新了任务清单状态
- 创建了此开发工作流程文档

---

**⚠️ 重要提醒**: 此流程必须严格遵循，确保项目的持续集成和高质量交付！